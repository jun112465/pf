<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<script type="text/javascript">
  function deletionConfirm(postId){
    if(confirm("삭제하시겠습니까?"))
      location.href = "/post/delete?id="+postId;
  }
</script>

<article th:fragment="postList (posts, user)" class="post-box">

  <div th:if="${user!=null}" class="post-item" id="postAddBtn" th:onclick="'location.href=/post/add?'">
    <i class="fa-solid fa-circle-plus"></i>
  </div>

  <div class="post-item post" th:each="post : ${posts}">
    <!--post id-->
    <input type="hidden" th:value="${post.getId()}">

    <!--post-top-->
    <div th:if="${user != null && post.getUserId()==user.getUserId()}" class="post-top">
      <div>
        <div th:text="${post.getDate()}" style="font-weight: bold; font-size: 19px; text-align: left; display: inline-block"></div>
        <input class="btn_edit_or_save" type="button" value="edit">
      </div>
      <a href="#" class="postDeleteBtn" th:data-postId="${post.getId()}">
        <i class="fas fa-trash" style="color: #e71c1c; font-size: 20px; position: relative; left:0"></i>
      </a>
    </div>

    <!-- post content viewed with html -->
    <div class="content" th:text="${post.getHtml()}"></div>
    <!-- editor box for owner user -->
    <div class="editor">
      <textarea th:class="edit-box" th:data-id="${post.getId()}" th:text="${post.getContent()}"></textarea>
      <div class="target"></div>
    </div>
  </div>

</article>



</html>